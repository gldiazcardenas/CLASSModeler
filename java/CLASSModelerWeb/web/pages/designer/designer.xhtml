<ui:composition xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:pe="http://primefaces.org/ui/extensions"
                template="/templates/common.xhtml">

<!-- Sets up the title of the page -->
<ui:param name="title" value="#{msgs.DESIGNER_PAGE_BASE_TITLE}"/>

<!-- Installs the method JavaScript invoked after page is loaded -->
<ui:param name="executeOnload" value="#{designerController.executeOnLoad}" />

<ui:define name="stylesheet">
    <h:outputStylesheet name="layoutDesigner.css" library="css"/>
    <h:outputStylesheet name="common.css" library="css"/>
</ui:define>

<ui:define name="script">
    <script type="text/javascript">
        // Static variables to point out the resources location.
        mxBasePath      = '/CLASSModeler/resources';
        mxImageBasePath = '/CLASSModeler/resources/images';
        mxLoadResources = false;
    </script>
    
    <h:outputScript library="js" name="mxClient.js" />
    <h:outputScript library="js" name="CLASSEditor.js" />
    <h:outputScript library="js" name="CLASSGraph.js" />
    <h:outputScript library="js" name="CLASSPalette.js" />
    <h:outputScript library="js" name="CLASSActionHandler.js" />
    <h:outputScript library="js" name="CLASSAction.js" />
    <h:outputScript library="js" name="CLASSShape.js" />
    <h:outputScript library="js" name="CLASSModeler.js" />
</ui:define>

<ui:define name="header">
    <div id="header">
        <ui:include src="/pages/designer/menu.xhtml"/>
        <ui:include src="/pages/designer/toolbar.xhtml"/>
    </div>
</ui:define>

<ui:define name="content">
    <!-- Layout distribution -->
    <pe:layout id="content-layout" fullPage="false"  collapseTitle="#{msgs.COLLAPSE_TOOLTIP}" resizeTitle="#{msgs.RESIZE_TOOLTIP}" expandTitle="#{msgs.OPEN_TOOLTIP}">
        <pe:layoutPane id="sidebarLeft" position="west" resizable="true" collapsible="true" minSize="150" maxSize="300">
            <ui:include src="/pages/designer/sidebarLeft.xhtml" />
        </pe:layoutPane>
        
        <pe:layoutPane id="workspace" position="center">
            <ui:include src="/pages/designer/workspace.xhtml" />
        </pe:layoutPane>
        
        <pe:layoutPane id="sidebarRight" position="east" resizable="true" collapsible="true" minSize="200" maxSize="300">
            <ui:include src="/pages/designer/sidebarRight.xhtml" />
        </pe:layoutPane>
    </pe:layout>
    
    <ui:include src="/pages/dashboard/user.xhtml"/>
</ui:define>

</ui:composition>